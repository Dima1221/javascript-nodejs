{"version":3,"sources":["webpack:///footer.5654ffbfac3b486e03ca.js","webpack:///./client/footer/index.js","webpack:///./client/footer/showLinkType.js","webpack:///./client/hoverIntent.js","webpack:///./client/footer/load2x.js","webpack:///./client/trackSticky.js"],"names":["footer","webpackJsonp_name_",0,"module","exports","__webpack_require__","init","showLinkType","window","devicePixelRatio","load2x","addEventListener","trackSticky","prices","document","querySelectorAll","i","length","priceElem","price","Math","round","parseInt","innerHTML","rateUsdRub","insertAdjacentHTML",182,"hoverIntent","updatePosition","event","left","clientX","shiftX","tooltipSpan","offsetWidth","documentElement","clientWidth","max","style","top","clientY","shiftY","offsetHeight","clientHeight","onOver","target","closest","tagName","createElement","className","getAttribute","setAttribute","body","appendChild","onOut","removeEventListener","remove",183,"selector","over","out","handlers","mousemove","elementHoverOver","distance","sqrt","pow","pageX","lastPageX","pageY","lastPageY","speed","Date","now","lastTime","speedTolerance","elem","elementFromPoint","elementOver","mouseout","parent","relatedTarget","parentElement","Infinity",184,"figurePngs","_loop","png","onload","this","src","match","png2x","Image","width","height","replace","complete",185,"stickyElems","stickyElem","container","dataset","sticky","querySelector","getBoundingClientRect","cssText","savedLeft","placeholder","createPlaceholder","parentNode","insertBefore","classList","add","position","zIndex","background","margin","getComputedStyle","marginLeft","marginRight","marginBottom","marginTop"],"mappings":"AAAA,IAAIA,SACJC,qBAAoB;AAEdC,GACA,SAASC,GAAQC,GAASC;ACHhC;AAMA,SAASC;AACPC,KAEIC,OAAOC,mBAAmB,KAC5BC,KAGFF,OAAOG,iBAAiB,UAAUC,IAClCA;AAGA,KAAK,IADDC,IAASC,SAASC,iBAAiB,mBAC9BC,IAAI,GAAGA,IAAIH,EAAOI,QAAQD,KAAK;AACtC,IAAIE,IAAYL,EAAOG,IAEnBG,IAAQC,KAAKC,MAAMC,SAASJ,EAAUK,aAAaf,OAAOgB;AAC9DN,EAAUO,mBAAmB,aAAW,wCAAwCN,IAAK;;;AArBzF,IAAIZ,IAAeF,EAAQ,MACvBK,IAASL,EAAQ,MACjBO,IAAcP,EAAQ;AAuB1BC;;ADcMoB,KACA,SAASvB,GAAQC,GAASC;AEzChC;AAAA,IAAIsB,IAActB,EAAQ;AAE1BF,EAAOC,UAAU;AAMf,SAASwB,EAAeC;AACtB,IAAIC,IAAOD,EAAME,UAAUC;AACvBF,IAAOG,EAAYC,cAAcpB,SAASqB,gBAAgBC,gBAE5DN,IAAOV,KAAKiB,IAAI,GAAGR,EAAME,UAAUC,IAASC,EAAYC;AAE1DD,EAAYK,MAAMR,OAAOA,IAAO;AAEhC,IAAIS,IAAMV,EAAMW,UAAUC;AACtBF,IAAMN,EAAYS,eAAe5B,SAASqB,gBAAgBQ,iBAC5DJ,IAAMnB,KAAKiB,IAAI,GAAGR,EAAMW,UAAUC,IAASR,EAAYS;AAGzDT,EAAYK,MAAMC,MAAMA,IAAM;;AAMhC,SAASK,EAAOf;AACd,IAAKA,EAAMgB,OAAOC,SAAlB;AACA,IAAID,IAAShB,EAAMgB,OAAOC,QAAQ;AAE7BD,MAGiB,OAAlBA,EAAOE,WAAkBF,EAAOC,QAAQ,gBAE5Cb,IAAcnB,SAASkC,cAAc;AACrCf,EAAYgB,YAAY,cAEpBJ,EAAOK,aAAa,kBACtBjB,EAAYkB,aAAa,gBAAgBN,EAAOK,aAAa,mBAE7DjB,EAAYkB,aAAa,YAAYN,EAAOK,aAAa;AAG3DpC,SAASsC,KAAKC,YAAYpB,IAC1BL,EAAeC,IAEff,SAASH,iBAAiB,aAAaiB;;;AAGzC,SAAS0B;AACFrB,MAELnB,SAASyC,oBAAoB,aAAa3B,IAC1CK,EAAYuB,UACZvB,IAAc;;AApDhB,IAAIA,IAAc,MACdD,IAAS,GACTS,IAAS;AAqDbd,EAAY,oBAAoBiB,GAAQU;;;AFiDpCG,KACA,SAAStD,GAAQC;AG7GvB;AAWA,SAASuB,EAAY+B,GAAUC,GAAMC;AACnCC,EAASH;AAAaC,MAAMA;AAAMC,KAAKA;;;AAOzC,SAASE,EAAUjC;AACjB,KAAIkC,GAAJ;AAEA,IAAIC,IAAW5C,KAAK6C,KAAK7C,KAAK8C,IAAIrC,EAAMsC,QAAQC,GAAW,KAAKhD,KAAK8C,IAAIrC,EAAMwC,QAAQC,GAAW,KAC9FC,IAAQP,KAAYQ,KAAKC,QAAQC;AAIrC,IAAYC,IAARJ,GAAwB;AAE1B,IAAIK,IAAO9D,SAAS+D,iBAAiBhD,EAAME,SAASF,EAAMW;AAC1D,KAAKoC,GAAM;AACX,IAAIA,KAAQE,GAAa;AACvB,KAAK,IAAIpB,KAAYG,GAAU;AAC7B,IAAIf,IAAU8B,EAAK9B,QAAQY;AACvBZ,MAEFiB;AAAqBa,MAAM9B;AAASc,KAAKC,EAASH,GAAUE;GAC5DC,EAASH,GAAUC,KAAK9B;;AAG5BiD,IAAcF;;;AAIlBR,IAAYvC,EAAMsC,OAClBG,IAAYzC,EAAMwC,OAClBK,IAAWF,KAAKC;;;AAIlB,SAASM,EAASlD;AAChB,IAAKkC,GAAL;AAGA,KADA,IAAIiB,IAASnD,EAAMoD,eACbD,KAAQ;AACZ,IAAIA,KAAUjB,EAAiBa,MAG7B;AAEFI,IAASA,EAAOE;;AAIlB,IAAItB,IAAMG,EAAiBH;AAC3BG,IAAmB,MACnBH,EAAI/B;;;AAjEN,IAEIiD,GAEAf,GAJAK,IAAYe,OAAUb,IAAYa,OAAUT,IAAWF,KAAKC,OAM5DE,IAAiB,IAEjBd;AAOJ/C,SAASH,iBAAiB,aAAamD,IACvChD,SAASH,iBAAiB,YAAYoE;AAqDtC5E,EAAOC,UAAUuB;;AHkHXyD,KACA,SAASjF,GAAQC;AIzLvB;AAAAD,EAAOC,UAAU;AAIf,KAAK,IAFDiF,IAAavE,SAASC,iBAAiB,4BAIvCuE,IAAQ;AADV,IAAIC,IAAMF,EAAWrE;AAGrBuE,EAAIC,SAAS;AAEX,IADAC,KAAKD,SAAS,OACVC,KAAKC,IAAIC,MAAM,aAAnB;AAEA,IAAIC,IAAQ,IAAIC;AAChBD,EAAMJ,SAAS;AAETC,KAAKK,SAASL,KAAKM,WACrBR,EAAIG,MAAMD,KAAKC;GAGnBE,EAAMF,MAAMD,KAAKC,IAAIM,QAAQ,QAAQ;;GAEnCT,EAAIU,YAAUV,EAAIC;GAjBfxE,IAAI,GAAGA,IAAIqE,EAAWpE,QAAQD,KAuBrCsE;;;AJiMEY,KACA,SAAS/F,GAAQC;AK7NvB;AAGA,SAASQ;AAIP,KAAK,IAFDuF,IAAcrF,SAASC,iBAAiB,kBAEnCC,IAAI,GAAGA,IAAImF,EAAYlF,QAAQD,KAAK;AAC3C,IAAIoF,IAAaD,EAAYnF,IACzBqF,IAAYD,EAAWE,QAAQC,SACjCzF,SAAS0F,cAAcJ,EAAWE,QAAQC,UAAUzF,SAASsC;AAE/D,IAAIgD,EAAWK,wBAAwBlE,MAAM,GAAG;AAE9C,IAAI6D,EAAW9D,MAAMoE,SAInB;AAGF,IAAIC,IAAYP,EAAWK,wBAAwB3E,MAC/C8E,IAAcC,EAAkBT;AAEpCA,EAAWU,WAAWC,aAAaH,GAAaR,IAEhDC,EAAUhD,YAAY+C,IACtBA,EAAWY,UAAUC,IAAI,WACzBb,EAAW9D,MAAM4E,WAAW;AAC5Bd,EAAW9D,MAAMC,MAAM,GACvB6D,EAAW9D,MAAMR,OAAO6E,IAAY,MAGpCP,EAAW9D,MAAM6E,SAAS,KAC1Bf,EAAW9D,MAAM8E,aAAa;AAC9BhB,EAAW9D,MAAM+E,SAAS,GAC1BjB,EAAW9D,MAAMwD,QAAQc,EAAY1E,cAAc,MACnDkE,EAAWQ,cAAcA;OAChBR,EAAWQ,eAAeR,EAAWQ,YAAYH,wBAAwBlE,MAAM,MAExF6D,EAAW9D,MAAMoE,UAAU;AAC3BN,EAAWY,UAAUxD,OAAO,WAC5B4C,EAAWQ,YAAYE,WAAWC,aAAaX,GAAYA,EAAWQ;AACtER,EAAWQ,YAAYpD,UAEvB4C,EAAWQ,cAAc;;;AAW/B,SAASC,EAAkBjC;AACzB,IAAIgC,IAAc9F,SAASkC,cAAc,QACrCV,IAAQgF,iBAAiB1C;AAO7B,OANAgC,EAAYtE,MAAMwD,QAAQlB,EAAK1C,cAAc,MAC7C0E,EAAYtE,MAAMiF,aAAajF,EAAMiF;AACrCX,EAAYtE,MAAMkF,cAAclF,EAAMkF,aACtCZ,EAAYtE,MAAMyD,SAASnB,EAAKlC,eAAe,MAC/CkE,EAAYtE,MAAMmF,eAAenF,EAAMmF;AACvCb,EAAYtE,MAAMoF,YAAYpF,EAAMoF,WAC7Bd;;AAjETzG,EAAOC,UAAUQ","file":"footer.5654ffbfac3b486e03ca.js","sourcesContent":["var footer =\nwebpackJsonp_name_([3],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t//require('./preventDocumentScroll');\n\t'use strict';\n\t\n\tvar showLinkType = __webpack_require__(182);\n\tvar load2x = __webpack_require__(184);\n\tvar trackSticky = __webpack_require__(185);\n\t\n\t//require('newsletter/client').init();\n\t\n\tfunction init() {\n\t  showLinkType();\n\t\n\t  if (window.devicePixelRatio > 1) {\n\t    load2x();\n\t  }\n\t\n\t  window.addEventListener('scroll', trackSticky);\n\t  trackSticky();\n\t\n\t  var prices = document.querySelectorAll('.auto-currency');\n\t  for (var i = 0; i < prices.length; i++) {\n\t    var priceElem = prices[i];\n\t\n\t    var price = Math.round(parseInt(priceElem.innerHTML) / window.rateUsdRub);\n\t    priceElem.insertAdjacentHTML('beforeEnd', '<span class=\"auto-currency__usd\">(â‰ˆ' + price + '$)</span>');\n\t  }\n\t}\n\t\n\tinit();\n\t\n\t//exports.trackSticky = trackSticky;\n\n/***/ },\n\n/***/ 182:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar hoverIntent = __webpack_require__(183);\n\t\n\tmodule.exports = function () {\n\t\n\t  var tooltipSpan = null;\n\t  var shiftX = 8;\n\t  var shiftY = 10;\n\t\n\t  function updatePosition(event) {\n\t    var left = event.clientX + shiftX;\n\t    if (left + tooltipSpan.offsetWidth > document.documentElement.clientWidth) {\n\t      // if beyond the right document border\n\t      // mirror to the left\n\t      left = Math.max(0, event.clientX - shiftX - tooltipSpan.offsetWidth);\n\t    }\n\t    tooltipSpan.style.left = left + 'px';\n\t\n\t    var top = event.clientY + shiftY;\n\t    if (top + tooltipSpan.offsetHeight > document.documentElement.clientHeight) {\n\t      top = Math.max(0, event.clientY - shiftY - tooltipSpan.offsetHeight);\n\t    }\n\t\n\t    tooltipSpan.style.top = top + 'px';\n\t  }\n\t\n\t  // we show tooltip element for any link hover, but few of them actually get styled\n\t  function onOver(event) {\n\t    if (!event.target.closest) return; // over svg\n\t    var target = event.target.closest('a, [data-tooltip]');\n\t\n\t    if (!target) return;\n\t\n\t    // links inside toolbars need no tooltips\n\t    if (target.tagName == 'A' && target.closest('.toolbar')) return;\n\t\n\t    tooltipSpan = document.createElement('span');\n\t    tooltipSpan.className = 'link__type';\n\t\n\t    if (target.getAttribute('data-tooltip')) {\n\t      tooltipSpan.setAttribute('data-tooltip', target.getAttribute('data-tooltip'));\n\t    } else {\n\t      tooltipSpan.setAttribute('data-url', target.getAttribute('href'));\n\t    }\n\t\n\t    document.body.appendChild(tooltipSpan);\n\t    updatePosition(event);\n\t\n\t    document.addEventListener('mousemove', updatePosition);\n\t  }\n\t\n\t  function onOut() {\n\t    if (!tooltipSpan) return;\n\t\n\t    document.removeEventListener('mousemove', updatePosition);\n\t    tooltipSpan.remove();\n\t    tooltipSpan = null;\n\t  }\n\t\n\t  hoverIntent('a,[data-tooltip]', onOver, onOut);\n\t};\n\n/***/ },\n\n/***/ 183:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar lastPageX = Infinity,\n\t    lastPageY = Infinity,\n\t    lastTime = Date.now();\n\t\n\tvar elementOver;\n\t\n\tvar elementHoverOver;\n\t\n\tvar speedTolerance = 0.2;\n\t\n\tvar handlers = {};\n\t\n\tfunction hoverIntent(selector, over, out) {\n\t  handlers[selector] = { over: over, out: out };\n\t}\n\t\n\tdocument.addEventListener('mousemove', mousemove);\n\tdocument.addEventListener('mouseout', mouseout);\n\t\n\tfunction mousemove(event) {\n\t  if (elementHoverOver) return;\n\t\n\t  var distance = Math.sqrt(Math.pow(event.pageX - lastPageX, 2) + Math.pow(event.pageY - lastPageY, 2));\n\t  var speed = distance / (Date.now() - lastTime);\n\t\n\t  // slow down => call over(), get the element of interest,\n\t  // then out() when leaving it\n\t  if (speed < speedTolerance) {\n\t    //console.log(\"speed\", speed);\n\t    var elem = document.elementFromPoint(event.clientX, event.clientY);\n\t    if (!elem) return; // the coords are out of window (happens)\n\t    if (elem != elementOver) {\n\t      for (var selector in handlers) {\n\t        var closest = elem.closest(selector);\n\t        if (closest) {\n\t          //console.log(\"over \", closest);\n\t          elementHoverOver = { elem: closest, out: handlers[selector].out };\n\t          handlers[selector].over(event);\n\t        }\n\t      }\n\t      elementOver = elem;\n\t    }\n\t  }\n\t\n\t  lastPageX = event.pageX;\n\t  lastPageY = event.pageY;\n\t  lastTime = Date.now();\n\t}\n\t\n\tfunction mouseout(event) {\n\t  if (!elementHoverOver) return;\n\t\n\t  var parent = event.relatedTarget;\n\t  while (parent) {\n\t    if (parent == elementHoverOver.elem) {\n\t      //console.log(\"mouseout false\", event.target, elementHoverOver.elem);\n\t      // still under elementHoverOver\n\t      return;\n\t    }\n\t    parent = parent.parentElement;\n\t  }\n\t\n\t  var out = elementHoverOver.out;\n\t  elementHoverOver = null;\n\t  out(event);\n\t}\n\t\n\tmodule.exports = hoverIntent;\n\n/***/ },\n\n/***/ 184:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function () {\n\t\n\t  var figurePngs = document.querySelectorAll('figure img[src$=\".png\"]');\n\t\n\t  var _loop = function () {\n\t    var png = figurePngs[i];\n\t\n\t    // load @2x version (must exist)\n\t    png.onload = function () {\n\t      this.onload = null;\n\t      if (this.src.match(/@2x.png$/)) return;\n\t\n\t      var png2x = new Image();\n\t      png2x.onload = function () {\n\t        //console.log(this.src);\n\t        if (this.width && this.height) {\n\t          png.src = this.src;\n\t        }\n\t      };\n\t      png2x.src = this.src.replace('.png', '@2x.png');\n\t    };\n\t    if (png.complete) png.onload();\n\t  };\n\t\n\t  for (var i = 0; i < figurePngs.length; i++) {\n\t    _loop();\n\t  }\n\t};\n\n/***/ },\n\n/***/ 185:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = trackSticky;\n\t\n\tfunction trackSticky() {\n\t\n\t  var stickyElems = document.querySelectorAll('[data-sticky]');\n\t\n\t  for (var i = 0; i < stickyElems.length; i++) {\n\t    var stickyElem = stickyElems[i];\n\t    var container = stickyElem.dataset.sticky ? document.querySelector(stickyElem.dataset.sticky) : document.body;\n\t\n\t    if (stickyElem.getBoundingClientRect().top < 0) {\n\t      // become fixed\n\t      if (stickyElem.style.cssText) {\n\t        // already fixed\n\t        // inertia: happens when scrolled fast too much to bottom\n\t        // http://ilyakantor.ru/screen/2015-02-24_1555.swf\n\t        return;\n\t      }\n\t\n\t      var savedLeft = stickyElem.getBoundingClientRect().left;\n\t      var placeholder = createPlaceholder(stickyElem);\n\t\n\t      stickyElem.parentNode.insertBefore(placeholder, stickyElem);\n\t\n\t      container.appendChild(stickyElem);\n\t      stickyElem.classList.add('sticky');\n\t      stickyElem.style.position = 'fixed';\n\t      stickyElem.style.top = 0;\n\t      stickyElem.style.left = savedLeft + 'px';\n\t      // zIndex < 1000, because it must be under an overlay,\n\t      // e.g. sitemap must show over the progress bar\n\t      stickyElem.style.zIndex = 101;\n\t      stickyElem.style.background = 'white'; // non-transparent to cover the text\n\t      stickyElem.style.margin = 0;\n\t      stickyElem.style.width = placeholder.offsetWidth + 'px'; // keep same width as before\n\t      stickyElem.placeholder = placeholder;\n\t    } else if (stickyElem.placeholder && stickyElem.placeholder.getBoundingClientRect().top > 0) {\n\t      // become non-fixed\n\t      stickyElem.style.cssText = '';\n\t      stickyElem.classList.remove('sticky');\n\t      stickyElem.placeholder.parentNode.insertBefore(stickyElem, stickyElem.placeholder);\n\t      stickyElem.placeholder.remove();\n\t\n\t      stickyElem.placeholder = null;\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Creates a placeholder w/ same size & margin\n\t * @param elem\n\t * @returns {*|!HTMLElement}\n\t */\n\tfunction createPlaceholder(elem) {\n\t  var placeholder = document.createElement('div');\n\t  var style = getComputedStyle(elem);\n\t  placeholder.style.width = elem.offsetWidth + 'px';\n\t  placeholder.style.marginLeft = style.marginLeft;\n\t  placeholder.style.marginRight = style.marginRight;\n\t  placeholder.style.height = elem.offsetHeight + 'px';\n\t  placeholder.style.marginBottom = style.marginBottom;\n\t  placeholder.style.marginTop = style.marginTop;\n\t  return placeholder;\n\t}\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** footer.5654ffbfac3b486e03ca.js\n **/","//require('./preventDocumentScroll');\nvar showLinkType = require('./showLinkType');\nvar load2x = require('./load2x');\nvar trackSticky = require('client/trackSticky');\n\n//require('newsletter/client').init();\n\nfunction init() {\n  showLinkType();\n\n  if (window.devicePixelRatio > 1) {\n    load2x();\n  }\n\n  window.addEventListener('scroll', trackSticky);\n  trackSticky();\n\n  let prices = document.querySelectorAll('.auto-currency');\n  for (let i = 0; i < prices.length; i++) {\n    let priceElem = prices[i];\n\n    let price = Math.round(parseInt(priceElem.innerHTML) / window.rateUsdRub);\n    priceElem.insertAdjacentHTML('beforeEnd', `<span class=\"auto-currency__usd\">(â‰ˆ${price}$)</span>`);\n  }\n}\n\ninit();\n\n//exports.trackSticky = trackSticky;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/footer/index.js\n **/","var hoverIntent = require('client/hoverIntent');\n\nmodule.exports = function() {\n\n  var tooltipSpan = null;\n  var shiftX = 8;\n  var shiftY = 10;\n\n  function updatePosition(event) {\n    var left = event.clientX + shiftX;\n    if (left + tooltipSpan.offsetWidth > document.documentElement.clientWidth) { // if beyond the right document border\n      // mirror to the left\n      left = Math.max(0, event.clientX - shiftX - tooltipSpan.offsetWidth);\n    }\n    tooltipSpan.style.left = left + 'px';\n\n    var top = event.clientY + shiftY;\n    if (top + tooltipSpan.offsetHeight > document.documentElement.clientHeight) {\n      top = Math.max(0, event.clientY - shiftY - tooltipSpan.offsetHeight);\n    }\n\n    tooltipSpan.style.top = top + 'px';\n  }\n\n\n\n  // we show tooltip element for any link hover, but few of them actually get styled\n  function onOver(event) {\n    if (!event.target.closest) return; // over svg\n    var target = event.target.closest('a, [data-tooltip]');\n\n    if (!target) return;\n\n    // links inside toolbars need no tooltips\n    if (target.tagName == 'A' && target.closest('.toolbar')) return;\n\n    tooltipSpan = document.createElement('span');\n    tooltipSpan.className = 'link__type';\n\n    if (target.getAttribute('data-tooltip')) {\n      tooltipSpan.setAttribute('data-tooltip', target.getAttribute('data-tooltip'));\n    } else {\n      tooltipSpan.setAttribute('data-url', target.getAttribute('href'));\n    }\n\n    document.body.appendChild(tooltipSpan);\n    updatePosition(event);\n\n    document.addEventListener('mousemove', updatePosition);\n  }\n\n  function onOut() {\n    if (!tooltipSpan) return;\n\n    document.removeEventListener('mousemove', updatePosition);\n    tooltipSpan.remove();\n    tooltipSpan = null;\n  }\n\n  hoverIntent('a,[data-tooltip]', onOver, onOut);\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/footer/showLinkType.js\n **/","\nvar lastPageX = Infinity, lastPageY = Infinity, lastTime = Date.now();\n\nvar elementOver;\n\nvar elementHoverOver;\n\nvar speedTolerance = 0.2;\n\nvar handlers = {};\n\nfunction hoverIntent(selector, over, out) {\n  handlers[selector] = {over: over, out: out};\n}\n\n\ndocument.addEventListener('mousemove', mousemove);\ndocument.addEventListener('mouseout', mouseout);\n\nfunction mousemove(event) {\n  if (elementHoverOver) return;\n\n  var distance = Math.sqrt(Math.pow(event.pageX - lastPageX, 2) + Math.pow(event.pageY - lastPageY, 2));\n  var speed = distance / (Date.now() - lastTime);\n\n  // slow down => call over(), get the element of interest,\n  // then out() when leaving it\n  if (speed < speedTolerance) {\n    //console.log(\"speed\", speed);\n    var elem = document.elementFromPoint(event.clientX, event.clientY);\n    if (!elem) return; // the coords are out of window (happens)\n    if (elem != elementOver) {\n      for (var selector in handlers) {\n        var closest = elem.closest(selector);\n        if (closest) {\n          //console.log(\"over \", closest);\n          elementHoverOver = { elem: closest, out: handlers[selector].out};\n          handlers[selector].over(event);\n        }\n      }\n      elementOver = elem;\n    }\n  }\n\n  lastPageX = event.pageX;\n  lastPageY = event.pageY;\n  lastTime = Date.now();\n\n}\n\nfunction mouseout(event) {\n  if (!elementHoverOver) return;\n\n  var parent = event.relatedTarget;\n  while(parent) {\n    if (parent == elementHoverOver.elem) {\n      //console.log(\"mouseout false\", event.target, elementHoverOver.elem);\n      // still under elementHoverOver\n      return;\n    }\n    parent = parent.parentElement;\n  }\n\n\n  var out = elementHoverOver.out;\n  elementHoverOver = null;\n  out(event);\n\n}\n\nmodule.exports = hoverIntent;\n\n\n/** WEBPACK FOOTER **\n ** ./client/hoverIntent.js\n **/","module.exports = function() {\n\n  let figurePngs = document.querySelectorAll('figure img[src$=\".png\"]');\n\n  for (var i = 0; i < figurePngs.length; i++) {\n    let png = figurePngs[i];\n\n    // load @2x version (must exist)\n    png.onload = function() {\n      this.onload = null;\n      if (this.src.match(/@2x.png$/)) return;\n\n      let png2x = new Image();\n      png2x.onload = function() {\n        //console.log(this.src);\n        if (this.width && this.height) {\n          png.src = this.src;\n        }\n      };\n      png2x.src = this.src.replace('.png', '@2x.png');\n    };\n    if (png.complete) png.onload();\n\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/footer/load2x.js\n **/","module.exports = trackSticky;\n\n\nfunction trackSticky() {\n\n  var stickyElems = document.querySelectorAll('[data-sticky]');\n\n  for (var i = 0; i < stickyElems.length; i++) {\n    var stickyElem = stickyElems[i];\n    var container = stickyElem.dataset.sticky ?\n      document.querySelector(stickyElem.dataset.sticky) : document.body;\n\n    if (stickyElem.getBoundingClientRect().top < 0) {\n      // become fixed\n      if (stickyElem.style.cssText) {\n        // already fixed\n        // inertia: happens when scrolled fast too much to bottom\n        // http://ilyakantor.ru/screen/2015-02-24_1555.swf\n        return;\n      }\n\n      var savedLeft = stickyElem.getBoundingClientRect().left;\n      var placeholder = createPlaceholder(stickyElem);\n\n      stickyElem.parentNode.insertBefore(placeholder, stickyElem);\n\n      container.appendChild(stickyElem);\n      stickyElem.classList.add('sticky');\n      stickyElem.style.position = 'fixed';\n      stickyElem.style.top = 0;\n      stickyElem.style.left = savedLeft + 'px';\n      // zIndex < 1000, because it must be under an overlay,\n      // e.g. sitemap must show over the progress bar\n      stickyElem.style.zIndex = 101;\n      stickyElem.style.background = 'white'; // non-transparent to cover the text\n      stickyElem.style.margin = 0;\n      stickyElem.style.width = placeholder.offsetWidth + 'px'; // keep same width as before\n      stickyElem.placeholder = placeholder;\n    } else if (stickyElem.placeholder && stickyElem.placeholder.getBoundingClientRect().top > 0) {\n      // become non-fixed\n      stickyElem.style.cssText = '';\n      stickyElem.classList.remove('sticky');\n      stickyElem.placeholder.parentNode.insertBefore(stickyElem, stickyElem.placeholder);\n      stickyElem.placeholder.remove();\n\n      stickyElem.placeholder = null;\n    }\n  }\n\n}\n\n/**\n * Creates a placeholder w/ same size & margin\n * @param elem\n * @returns {*|!HTMLElement}\n */\nfunction createPlaceholder(elem) {\n  var placeholder = document.createElement('div');\n  var style = getComputedStyle(elem);\n  placeholder.style.width = elem.offsetWidth + 'px';\n  placeholder.style.marginLeft = style.marginLeft;\n  placeholder.style.marginRight = style.marginRight;\n  placeholder.style.height = elem.offsetHeight + 'px';\n  placeholder.style.marginBottom = style.marginBottom;\n  placeholder.style.marginTop = style.marginTop;\n  return placeholder;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./client/trackSticky.js\n **/"],"sourceRoot":""}