{"version":3,"sources":["webpack:///coursesCourse.f199b1bfe739fffa5b63.js","webpack:///./handlers/courses/client/course/index.js","webpack:///./modules/client/spinner.js?9229","webpack:///./modules/client/xhr.js?3b46","webpack:///./modules/client/getCsrfCookie.js?4a20","webpack:///./handlers/newsletter/client/index.js","webpack:///./handlers/courses/client/lib/feedbackSlider.js"],"names":["coursesCourse","webpackJsonp_name_","0","module","exports","__webpack_require__","initNewsletterForm","form","document","querySelector","onsubmit","event","preventDefault","newsletter","submitSubscribeForm","initSignupButton","link","onclick","window","currentUser","spinner","Spinner","elem","size","class","elemClass","start","e","stop","AuthModal","callback","location","href","FeedbackSlider","374","options","this","Error","createElement","prototype","classList","toggle","insertAdjacentHTML","spinnerElem","remove","379","xhr","wrapEvent","name","CustomEvent","originalEvent","fail","reason","request","dispatchEvent","success","result","XMLHttpRequest","method","body","url","open","sync","csrfCookie","getCsrfCookie","skipCsrf","setRequestHeader","toString","call","JSON","stringify","noDocumentEvents","addEventListener","timeStart","Date","now","raw","normalStatuses","status","indexOf","responseText","contentType","getResponseHeader","match","json","parse","setTimeout","send","notification","380","cookie","391","onSuccess","elements","email","value","slugElems","slug","slugs","length","i","slugElem","checked","push","Info","action","submitButton","disabled","formLabel","getAttribute","metrika","reachGoal","ga","Success","message","392","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","_ref","list","arrowLeft","arrowRight","pagination","position","next","bind","prev","onPaginationClick","closest","children","render","style","transform","hidden","add","active"],"mappings":"AAAA,IAAIA,gBACJC,qBAAoB;AAEdC,GACA,SAASC,GAAQC,GAASC;ACJhC;AAeA,SAASC;AAEP,IAAIC,IAAOC,SAASC,cAAc;AAC7BF,MAELA,EAAKG,WAAW,SAASC;AACvBA,EAAMC,kBACNC,EAAWC,oBAAoBP;;;AAKnC,SAASQ;AAEP,IAAIC,IAAOR,SAASC,cAAc;AAC7BO,MAELA,EAAKC,UAAU,SAASN;AAEtB,KAAIO,OAAOC,aAAX;AAIAR,EAAMC;AAEN,IAAIQ,IAAU,IAAIC;AAChBC,MAAWN;AACXO,MAAW;AACXC,SAAW;AACXC,WAAW;;AAEbL,EAAQM,SAERrB,EAAAsB,EAAA,GAAwC;AACtCP,EAAQQ;AACR,IAAIC,IAAYxB,EAAQ;AACxB,IAAIwB;AACFC,UAAU;AACRZ,OAAOa,SAASC,OAAOhB,EAAKgB;;;;;;;AArDtC,IAAInB,IAAaR,EAAQ,MACrBgB,IAAUhB,EAAQ,MAElB4B,KADM5B,EAAQ,MACGA,EAAQ;AAE7BC,KAEAS,KAEIP,SAASC,cAAc,+BACzB,IAAIwB;AACFX,MAAMd,SAASC,cAAc;;;AD0D3ByB,KACA,SAAS/B,GAAQC;AEtEvB;AAGA,SAASiB,EAAQc;AAWf,IAVAA,IAAUA,SACVC,KAAKd,OAAOa,EAAQb,MAEpBc,KAAKb,OAAOY,EAAQZ,QAAQ,UAE5Ba,KAAKZ,QAAQW,EAAQX,QAAS,MAAMW,EAAQX,QAAS;AAGrDY,KAAKX,YAAYU,EAAQV,WAER,YAAbW,KAAKb,QAAiC,WAAba,KAAKb,QAAgC,WAAba,KAAKb,MACxD,MAAUc,MAAM,uBAAuBD,KAAKb;AAGzCa,KAAKd,SACRc,KAAKd,OAAOd,SAAS8B,cAAc;;AAIvCjB,EAAQkB,UAAUb,QAAQ;AACpBU,KAAKX,aACPW,KAAKd,KAAKkB,UAAUC,OAAOL,KAAKX,YAGlCW,KAAKd,KAAKoB,mBAAmB,aAAa,iDAAiDN,KAAKb,OAAOa,KAAKZ,QAAQ;GAGtHH,EAAQkB,UAAUX,OAAO;AACvB,IAAIe,IAAcP,KAAKd,KAAKb,cAAc;AACrCkC,MAELA,EAAYC,UAERR,KAAKX,aACPW,KAAKd,KAAKkB,UAAUC,OAAOL,KAAKX;GAIpCtB,EAAOC,UAAUiB;;AF8EXwB,KACA,SAAS1C,GAAQC,GAASC;AGzHhC;AAwBA,SAASyC,EAAIX;AAuDX,SAASY,EAAUC,GAAMrB;AACvB,IAAIhB,IAAQ,IAAIsC,YAAYD;AAE5B,OADArC,EAAMuC,gBAAgBvB,GACfhB;;AAGT,SAASwC,EAAKC,GAAQF;AACpB,IAAIvB,IAAIoB,EAAU,QAAQG;AAC1BvB,EAAEyB,SAASA,GACXC,EAAQC,cAAc3B;;AAGxB,SAAS4B,EAAQC,GAAQN;AACvB,IAAIvB,IAAIoB,EAAU,WAAWG;AAC7BvB,EAAE6B,SAASA,GACXH,EAAQC,cAAc3B;;AApExB,IAAI0B,IAAU,IAAII,kBAEdC,IAASvB,EAAQuB,UAAU,OAE3BC,IAAOxB,EAAQwB,MACfC,IAAMzB,EAAQyB;AAElBP,EAAQQ,KAAKH,GAAQE,IAAKzB,EAAQ2B,OAElCT,EAAQK,SAASA;AAGjB,IAAIK,IAAaC;AACbD,MAAe5B,EAAQ8B,YACzBZ,EAAQa,iBAAiB,gBAAgBH,IAGb,wBAAvBI,SAASC,KAAKT,OAEnBN,EAAQa,iBAAiB,gBAAgB;AACzCP,IAAOU,KAAKC,UAAUX,KAGnBxB,EAAQoC,qBACXlB,EAAQmB,iBAAiB,aAAa,SAAA7D;AACpC0C,EAAQoB,YAAYC,KAAKC;AACzB,IAAIhD,IAAIoB,EAAU,YAAYpC;AAC9BH,SAAS8C,cAAc3B;IAEzB0B,EAAQmB,iBAAiB,WAAW,SAAA7D;AAClC,IAAIgB,IAAIoB,EAAU,UAAUpC;AAC5BH,SAAS8C,cAAc3B;IAEzB0B,EAAQmB,iBAAiB,WAAW,SAAA7D;AAClC,IAAIgB,IAAIoB,EAAU,cAAcpC;AAChCgB,EAAE6B,SAAS7C,EAAM6C,QACjBhD,SAAS8C,cAAc3B;IAEzB0B,EAAQmB,iBAAiB,QAAQ,SAAA7D;AAC/B,IAAIgB,IAAIoB,EAAU,WAAWpC;AAC7BgB,EAAEyB,SAASzC,EAAMyC,QACjB5C,SAAS8C,cAAc3B;KAItBQ,EAAQyC,OACXvB,EAAQa,iBAAiB,UAAU,qBAGrCb,EAAQa,iBAAiB,oBAAoB;AAE7C,IAAIW,IAAiB1C,EAAQ0C,oBAAmB;AA8DhD,OA1CAxB,EAAQmB,iBAAiB,SAAS,SAAA7C;AAChCwB,EAAK,4BAA4BxB;IAGnC0B,EAAQmB,iBAAiB,WAAW,SAAA7C;AAClCwB,EAAK,sEAAsExB;IAG7E0B,EAAQmB,iBAAiB,SAAS,SAAA7C;AAChCwB,EAAK,uBAAuBxB;IAG9B0B,EAAQmB,iBAAiB,QAAQ,SAAA7C;AAC/B,KAAK0B,EAAQyB,QAEX,YADA3B,EAAK,gCAAgCxB;AAIvC,IAAIkD,EAAeE,QAAQ1B,EAAQyB,eAEjC,YADA3B,EAAK,oCAAoCE,EAAQyB,SAAS,2BAA2BnD;AAIvF,IAAI6B,IAASH,EAAQ2B,cACjBC,IAAc5B,EAAQ6B,kBAAkB;AAC5C,IAAID,EAAYE,MAAM,yBAAyBhD,EAAQiD,MACrD;AACE5B,IAASa,KAAKgB,MAAM7B;EACpB,OAAO7B;AAEP,YADAwB,EAAK,0CAA0CxB;;AAKnD4B,EAAQC,GAAQ7B;IAIlB2D,WAAW;AACTjC,EAAQkC,KAAK5B;GACZ,IAEIN;;AA3IT,IAAImC,IAAenF,EAAQ,MACvB2D,IAAgB3D,EAAQ;AA+I5BG,SAASgE,iBAAiB,WAAW,SAAS7D;AAC5C,IAAI6E,EAAanD,MAAM1B,EAAMyC;IAI/BjD,EAAOC,UAAU0C;;AHiIX2C,KACA,SAAStF,GAAQC;AIvRvB;AAAAD,EAAOC,UAAU;AACf,IAAI2D,IAAavD,SAASkF,OAAOP,MAAM;AACvC,OAAOpB,IAAaA,EAAW,KAAK;;;AJgShC4B,KACA,SAASxF,GAAQC,GAASC;AKnShC;AAIA,SAASS,EAAoBP,GAAMqF;AAEjC,IAAKrF,EAAKsF,SAASC,MAAMC,OAAzB;AAIA,IAAIC,IAAYzF,EAAKsF,SAASI,MAE1BC;AAGJ,IAAIF,EAAUG,QAEZ,KAAK,IAAIC,IAAI,GAAGA,IAAIJ,EAAUG,QAAQC,KAAK;AACzC,IAAIC,IAAWL,EAAUI;AACpBC,EAASC,WACdJ,EAAMK,KAAKF,EAASN;OAKtBG,EAAMK,KAAKP,EAAUD;AAGvB,KAAKG,EAAMC,QAET,YADA,IAAIX,EAAagB,KAAK;AAIxB,IAAI7C;AACFmC,OAAOvF,EAAKsF,SAASC,MAAMC;AAC3BE,MAAMC;GAIF7C,IAAUP;AACdY,QAAQ;AACRE,KAAQrD,EAAKkG;AACb9C,MAAQA;IAGN+C,IAAenG,EAAKE,cAAc,oBAElCW,IAAU,IAAIC;AAChBC,MAAWoF;AACXnF,MAAW;AACXE,WAAW;;AAEbL,EAAQM,SACRgF,EAAaC,YAAW,GAExBtD,EAAQmB,iBAAiB,WAAW;AAClCpD,EAAQQ,QACR8E,EAAaC,YAAW;;AAG1B,IAAIC,IAAYrG,EAAKsG,aAAa;AAElCxD,EAAQmB,iBAAiB,WAAW,SAAS7D;AACxB,OAAfyB,KAAK0C,UAEP5D,OAAO4F,QAAQC,UAAU;AACvBxG,MAAMqG;IAER1F,OAAO8F,GAAG,QAAQ,SAAS,cAAc,aAAaJ,IAEtD,IAAIpB,EAAayB,QAAQtG,EAAM6C,OAAO0D,SAAS;AAC/C3G,EAAKsF,SAASC,MAAMC,QAAQ,IAC5BH,KAAaA,QAGb1E,OAAO4F,QAAQC,UAAU;AACvBxG,MAAMqG;IAER1F,OAAO8F,GAAG,QAAQ,SAAS,cAAc,kBAAkBJ,IAE3D,IAAIpB,EAAanD,MAAM1B,EAAM6C,OAAO0D;;;;AAhF1C,IAAI7F,IAAUhB,EAAQ,MAClByC,IAAMzC,EAAQ,MACdmF,IAAenF,EAAQ;AAoF3BD,EAAQU,sBAAsBA;;ALwSxBqG,KACA,SAAShH,GAAQC;AM/XvB;AAIA,SAASgH,EAAgBC,GAAUC;AAAe,MAAMD,aAAoBC,IAAgB,MAAM,IAAIC,UAAU;;AAFhH,IAAIC,IAAe;AAAc,SAASC,EAAiBC,GAAQC;AAAS,KAAK,IAAIvB,IAAI,GAAGA,IAAIuB,EAAMxB,QAAQC,KAAK;AAAE,IAAIwB,IAAaD,EAAMvB;AAAIwB,EAAWC,aAAaD,EAAWC,eAAc,GAAOD,EAAWE,gBAAe,GAAU,WAAWF,MAAYA,EAAWG,YAAW;AAAMC,OAAOC,eAAeP,GAAQE,EAAWM,KAAKN;;;AAAiB,OAAO,SAAUN,GAAaa,GAAYC;AAAiJ,OAA9HD,KAAYV,EAAiBH,EAAY/E,WAAW4F,IAAiBC,KAAaX,EAAiBH,GAAac,IAAqBd;;;AAFhiBnH,EAAOC,UAAP;AACE,SAAA6B,EAAAoG;AAAoB,IAAP/G,IAAO+G,EAAP/G;AAAO8F,EAAAhF,MAAAH,IAClBG,KAAKd,OAAOA,GAEZc,KAAKkG,OAAOhH,EAAKb,cAAc;AAE/B2B,KAAKmG,YAAYjH,EAAKb,cAAc,2CACpC2B,KAAKoG,aAAalH,EAAKb,cAAc;AACrC2B,KAAKqG,aAAanH,EAAKb,cAAc,yCACrC2B,KAAKsG,WAAW;AAEhBtG,KAAKoG,WAAWvH,UAAUmB,KAAKuG,KAAKC,KAAKxG,OACzCA,KAAKmG,UAAUtH,UAAUmB,KAAKyG,KAAKD,KAAKxG;AAExCA,KAAKqG,WAAWxH,UAAUmB,KAAK0G,kBAAkBF,KAAKxG;;AAd1D,OAAAoF,EAAAvF;AAAAiG,KAAA;AAAAnC,OAAA,SAiBoBpF;AAChB,IAAI+G,IAAS/G,EAAM+G,OAAOqB,QAAQ;AAC7BrB,MACLtF,KAAKsG,cAAc3D,QAAQX,KAAKhC,KAAKqG,WAAWO,UAAUtB,IAE1DtF,KAAK6G;;;AAtBTf,KAAA;AAAAnC,OAAA;AA0BI3D,KAAKsG,YACLtG,KAAK6G;;;AA3BTf,KAAA;AAAAnC,OAAA;AA+BI3D,KAAKsG,YACLtG,KAAK6G;;;AAhCTf,KAAA;AAAAnC,OAAA;AAoCI3D,KAAKkG,KAAKY,MAAMC,YAAY/G,KAAKsG,WAAL,kBAAgCtG,KAAKsG,WAArC,aAA0D;AACtF,IAAIU,IAAS;AAES,MAAlBhH,KAAKsG,WACPtG,KAAKmG,UAAU/F,UAAU6G,IAAID,KAE7BhH,KAAKmG,UAAU/F,UAAUI,OAAOwG;AAG9BhH,KAAKsG,YAAYtG,KAAKkG,KAAKU,SAAS7C,SAAS,IAC/C/D,KAAKoG,WAAWhG,UAAU6G,IAAID,KAE9BhH,KAAKoG,WAAWhG,UAAUI,OAAOwG;AAGnC,IAAIE,IAASlH,KAAKqG,WAAWhI,cAAc;AACvC6I,KACFA,EAAO9G,UAAUI,OAAO,yCAE1BR,KAAKqG,WAAWO,SAAS5G,KAAKsG,UAAUlG,UAAU6G,IAAI;;MAvD1DpH","file":"coursesCourse.f199b1bfe739fffa5b63.js","sourcesContent":["var coursesCourse =\nwebpackJsonp_name_([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar newsletter = __webpack_require__(391);\n\tvar Spinner = __webpack_require__(374);\n\tvar xhr = __webpack_require__(379);\n\tvar FeedbackSlider = __webpack_require__(392);\n\t\n\tinitNewsletterForm();\n\t\n\tinitSignupButton();\n\t\n\tif (document.querySelector('.courses-feedback-inline')) {\n\t  new FeedbackSlider({\n\t    elem: document.querySelector('.courses-feedback-inline')\n\t  });\n\t}\n\t\n\tfunction initNewsletterForm() {\n\t\n\t  var form = document.querySelector('[data-newsletter-subscribe-form]');\n\t  if (!form) return;\n\t\n\t  form.onsubmit = function (event) {\n\t    event.preventDefault();\n\t    newsletter.submitSubscribeForm(form);\n\t  };\n\t}\n\t\n\tfunction initSignupButton() {\n\t\n\t  var link = document.querySelector('[data-group-signup-link]');\n\t  if (!link) return;\n\t\n\t  link.onclick = function (event) {\n\t\n\t    if (window.currentUser) {\n\t      return;\n\t    }\n\t\n\t    event.preventDefault();\n\t\n\t    var spinner = new Spinner({\n\t      elem: link,\n\t      size: 'small',\n\t      class: 'submit-button__spinner',\n\t      elemClass: 'submit-button_progress'\n\t    });\n\t    spinner.start();\n\t\n\t    __webpack_require__.e/* nsure */(2, function () {\n\t      spinner.stop();\n\t      var AuthModal = __webpack_require__(376);\n\t      new AuthModal({\n\t        callback: function callback() {\n\t          window.location.href = link.href;\n\t        }\n\t      });\n\t    });\n\t  };\n\t}\n\n/***/ },\n\n/***/ 374:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// Usage:\n\t//  1) new Spinner({ elem: elem}) -> start/stop()\n\t//  2) new Spinner() -> somewhere.append(spinner.elem) -> start/stop\n\tfunction Spinner(options) {\n\t  options = options || {};\n\t  this.elem = options.elem;\n\t\n\t  this.size = options.size || 'medium';\n\t  // any class to add to spinner (make spinner special here)\n\t  this.class = options.class ? ' ' + options.class : '';\n\t\n\t  // any class to add to element (to hide it's content for instance)\n\t  this.elemClass = options.elemClass;\n\t\n\t  if (this.size != 'medium' && this.size != 'small' && this.size != 'large') {\n\t    throw new Error(\"Unsupported size: \" + this.size);\n\t  }\n\t\n\t  if (!this.elem) {\n\t    this.elem = document.createElement('div');\n\t  }\n\t}\n\t\n\tSpinner.prototype.start = function () {\n\t  if (this.elemClass) {\n\t    this.elem.classList.toggle(this.elemClass);\n\t  }\n\t\n\t  this.elem.insertAdjacentHTML('beforeend', '<span class=\"spinner spinner_active spinner_' + this.size + this.class + '\"><span class=\"spinner__dot spinner__dot_1\"></span><span class=\"spinner__dot spinner__dot_2\"></span><span class=\"spinner__dot spinner__dot_3\"></span></span>');\n\t};\n\t\n\tSpinner.prototype.stop = function () {\n\t  var spinnerElem = this.elem.querySelector('.spinner');\n\t  if (!spinnerElem) return; // already stopped or never started\n\t\n\t  spinnerElem.remove();\n\t\n\t  if (this.elemClass) {\n\t    this.elem.classList.toggle(this.elemClass);\n\t  }\n\t};\n\t\n\tmodule.exports = Spinner;\n\n/***/ },\n\n/***/ 379:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar notification = __webpack_require__(371);\n\tvar getCsrfCookie = __webpack_require__(380);\n\t// Wrapper about XHR\n\t// # Global Events\n\t// triggers document.loadstart/loadend on communication start/end\n\t//    --> unless options.noGlobalEvents is set\n\t//\n\t// # Events\n\t// triggers fail/success on load end:\n\t//    --> by default status=200 is ok, the others are failures\n\t//    --> options.normalStatuses = [201,409] allow given statuses\n\t//    --> fail event has .reason field\n\t//    --> success event has .result field\n\t//\n\t// # JSON\n\t//    --> send(object) calls JSON.stringify\n\t//    --> adds Accept: json (we want json) by default, unless options.raw\n\t// if options.json or server returned json content type\n\t//    --> autoparse json\n\t//    --> fail if error\n\t//\n\t// # CSRF\n\t//    --> requests sends header X-XSRF-TOKEN from cookie\n\t\n\tfunction xhr(options) {\n\t\n\t  var request = new XMLHttpRequest();\n\t\n\t  var method = options.method || 'GET';\n\t\n\t  var body = options.body;\n\t  var url = options.url;\n\t\n\t  request.open(method, url, options.sync ? false : true);\n\t\n\t  request.method = method;\n\t\n\t  // token/header names same as angular $http for easier interop\n\t  var csrfCookie = getCsrfCookie();\n\t  if (csrfCookie && !options.skipCsrf) {\n\t    request.setRequestHeader(\"X-XSRF-TOKEN\", csrfCookie);\n\t  }\n\t\n\t  if ({}.toString.call(body) == '[object Object]') {\n\t    // must be OPENed to setRequestHeader\n\t    request.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n\t    body = JSON.stringify(body);\n\t  }\n\t\n\t  if (!options.noDocumentEvents) {\n\t    request.addEventListener('loadstart', function (event) {\n\t      request.timeStart = Date.now();\n\t      var e = wrapEvent('xhrstart', event);\n\t      document.dispatchEvent(e);\n\t    });\n\t    request.addEventListener('loadend', function (event) {\n\t      var e = wrapEvent('xhrend', event);\n\t      document.dispatchEvent(e);\n\t    });\n\t    request.addEventListener('success', function (event) {\n\t      var e = wrapEvent('xhrsuccess', event);\n\t      e.result = event.result;\n\t      document.dispatchEvent(e);\n\t    });\n\t    request.addEventListener('fail', function (event) {\n\t      var e = wrapEvent('xhrfail', event);\n\t      e.reason = event.reason;\n\t      document.dispatchEvent(e);\n\t    });\n\t  }\n\t\n\t  if (!options.raw) {\n\t    // means we want json\n\t    request.setRequestHeader(\"Accept\", \"application/json\");\n\t  }\n\t\n\t  request.setRequestHeader('X-Requested-With', \"XMLHttpRequest\");\n\t\n\t  var normalStatuses = options.normalStatuses || [200];\n\t\n\t  function wrapEvent(name, e) {\n\t    var event = new CustomEvent(name);\n\t    event.originalEvent = e;\n\t    return event;\n\t  }\n\t\n\t  function fail(reason, originalEvent) {\n\t    var e = wrapEvent(\"fail\", originalEvent);\n\t    e.reason = reason;\n\t    request.dispatchEvent(e);\n\t  }\n\t\n\t  function success(result, originalEvent) {\n\t    var e = wrapEvent(\"success\", originalEvent);\n\t    e.result = result;\n\t    request.dispatchEvent(e);\n\t  }\n\t\n\t  request.addEventListener(\"error\", function (e) {\n\t    fail(\"Ошибка связи с сервером.\", e);\n\t  });\n\t\n\t  request.addEventListener(\"timeout\", function (e) {\n\t    fail(\"Превышено максимально допустимое время ожидания ответа от сервера.\", e);\n\t  });\n\t\n\t  request.addEventListener(\"abort\", function (e) {\n\t    fail(\"Запрос был прерван.\", e);\n\t  });\n\t\n\t  request.addEventListener(\"load\", function (e) {\n\t    if (!request.status) {\n\t      // does that ever happen?\n\t      fail(\"Не получен ответ от сервера.\", e);\n\t      return;\n\t    }\n\t\n\t    if (normalStatuses.indexOf(request.status) == -1) {\n\t      fail(\"Ошибка на стороне сервера (код \" + request.status + \"), попытайтесь позднее.\", e);\n\t      return;\n\t    }\n\t\n\t    var result = request.responseText;\n\t    var contentType = request.getResponseHeader(\"Content-Type\");\n\t    if (contentType.match(/^application\\/json/) || options.json) {\n\t      // autoparse json if WANT or RECEIVED json\n\t      try {\n\t        result = JSON.parse(result);\n\t      } catch (e) {\n\t        fail(\"Некорректный формат ответа от сервера.\", e);\n\t        return;\n\t      }\n\t    }\n\t\n\t    success(result, e);\n\t  });\n\t\n\t  // defer to let other handlers be assigned\n\t  setTimeout(function () {\n\t    request.send(body);\n\t  }, 0);\n\t\n\t  return request;\n\t}\n\t\n\tdocument.addEventListener('xhrfail', function (event) {\n\t  new notification.Error(event.reason);\n\t});\n\t\n\tmodule.exports = xhr;\n\n/***/ },\n\n/***/ 380:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function () {\n\t  var csrfCookie = document.cookie.match(/XSRF-TOKEN=([\\w-]+)/);\n\t  return csrfCookie ? csrfCookie[1] : null;\n\t};\n\n/***/ },\n\n/***/ 391:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Spinner = __webpack_require__(374);\n\tvar xhr = __webpack_require__(379);\n\tvar notification = __webpack_require__(371);\n\t\n\tfunction submitSubscribeForm(form, onSuccess) {\n\t\n\t  if (!form.elements.email.value) {\n\t    return;\n\t  }\n\t\n\t  var slugElems = form.elements.slug;\n\t\n\t  var slugs = [];\n\t\n\t  if (slugElems.length) {\n\t    // checkboxes\n\t    for (var i = 0; i < slugElems.length; i++) {\n\t      var slugElem = slugElems[i];\n\t      if (!slugElem.checked) continue;\n\t      slugs.push(slugElem.value);\n\t    }\n\t  } else {\n\t    // single element, explicit slug\n\t    slugs.push(slugElems.value);\n\t  }\n\t\n\t  if (!slugs.length) {\n\t    new notification.Info(\"Выберите рассылки из списка.\");\n\t    return;\n\t  }\n\t\n\t  var body = {\n\t    email: form.elements.email.value,\n\t    slug: slugs\n\t    // no remove/replace => action is \"add\"\n\t  };\n\t\n\t  var request = xhr({\n\t    method: 'POST',\n\t    url: form.action,\n\t    body: body\n\t  });\n\t\n\t  var submitButton = form.querySelector('[type=\"submit\"]');\n\t\n\t  var spinner = new Spinner({\n\t    elem: submitButton,\n\t    size: 'small',\n\t    elemClass: 'button_loading'\n\t  });\n\t  spinner.start();\n\t  submitButton.disabled = true;\n\t\n\t  request.addEventListener('loadend', function () {\n\t    spinner.stop();\n\t    submitButton.disabled = false;\n\t  });\n\t\n\t  var formLabel = form.getAttribute('data-newsletter-subscribe-form');\n\t\n\t  request.addEventListener('success', function (event) {\n\t    if (this.status == 200) {\n\t\n\t      window.metrika.reachGoal('NEWSLETTER-SUBSCRIBE', {\n\t        form: formLabel\n\t      });\n\t      window.ga('send', 'event', 'newsletter', 'subscribe', formLabel);\n\t\n\t      new notification.Success(event.result.message, 'slow');\n\t      form.elements.email.value = '';\n\t      onSuccess && onSuccess();\n\t    } else {\n\t\n\t      window.metrika.reachGoal('NEWSLETTER-SUBSCRIBE-FAIL', {\n\t        form: formLabel\n\t      });\n\t      window.ga('send', 'event', 'newsletter', 'subscribe-fail', formLabel);\n\t\n\t      new notification.Error(event.result.message);\n\t    }\n\t  });\n\t}\n\t\n\texports.submitSubscribeForm = submitSubscribeForm;\n\n/***/ },\n\n/***/ 392:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tmodule.exports = function () {\n\t  function FeedbackSlider(_ref) {\n\t    var elem = _ref.elem;\n\t\n\t    _classCallCheck(this, FeedbackSlider);\n\t\n\t    this.elem = elem;\n\t\n\t    this.list = elem.querySelector('.courses-feedback-slides');\n\t\n\t    this.arrowLeft = elem.querySelector('.courses-feedback-inline__control_left');\n\t    this.arrowRight = elem.querySelector('.courses-feedback-inline__control_right');\n\t    this.pagination = elem.querySelector('.courses-feedback-inline__pagination');\n\t    this.position = 0;\n\t\n\t    this.arrowRight.onclick = this.next.bind(this);\n\t    this.arrowLeft.onclick = this.prev.bind(this);\n\t\n\t    this.pagination.onclick = this.onPaginationClick.bind(this);\n\t  }\n\t\n\t  _createClass(FeedbackSlider, [{\n\t    key: 'onPaginationClick',\n\t    value: function onPaginationClick(event) {\n\t      var target = event.target.closest('li');\n\t      if (!target) return;\n\t      this.position = [].indexOf.call(this.pagination.children, target);\n\t      console.log(this.position);\n\t      this.render();\n\t    }\n\t  }, {\n\t    key: 'next',\n\t    value: function next() {\n\t      this.position++;\n\t      this.render();\n\t    }\n\t  }, {\n\t    key: 'prev',\n\t    value: function prev() {\n\t      this.position--;\n\t      this.render();\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      this.list.style.transform = this.position ? 'translate3d(-' + this.position + '00%,0,0)' : '';\n\t      var hidden = 'courses-feedback-inline__control_hidden';\n\t\n\t      if (this.position === 0) {\n\t        this.arrowLeft.classList.add(hidden);\n\t      } else {\n\t        this.arrowLeft.classList.remove(hidden);\n\t      }\n\t\n\t      if (this.position == this.list.children.length - 1) {\n\t        this.arrowRight.classList.add(hidden);\n\t      } else {\n\t        this.arrowRight.classList.remove(hidden);\n\t      }\n\t\n\t      var active = this.pagination.querySelector('.courses-feedback-inline__page_active');\n\t      if (active) {\n\t        active.classList.remove('courses-feedback-inline__page_active');\n\t      }\n\t      this.pagination.children[this.position].classList.add('courses-feedback-inline__page_active');\n\t    }\n\t  }]);\n\t\n\t  return FeedbackSlider;\n\t}();\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** coursesCourse.f199b1bfe739fffa5b63.js\n **/","var newsletter = require('newsletter/client');\nvar Spinner = require('client/spinner');\nvar xhr = require('client/xhr');\nvar FeedbackSlider = require('../lib/feedbackSlider');\n\ninitNewsletterForm();\n\ninitSignupButton();\n\nif (document.querySelector('.courses-feedback-inline')) {\n  new FeedbackSlider({\n    elem: document.querySelector('.courses-feedback-inline')\n  });\n}\n\nfunction initNewsletterForm() {\n\n  var form = document.querySelector('[data-newsletter-subscribe-form]');\n  if (!form) return;\n\n  form.onsubmit = function(event) {\n    event.preventDefault();\n    newsletter.submitSubscribeForm(form);\n  };\n\n}\n\nfunction initSignupButton() {\n\n  var link = document.querySelector('[data-group-signup-link]');\n  if (!link) return;\n\n  link.onclick = function(event) {\n\n    if (window.currentUser) {\n      return;\n    }\n\n    event.preventDefault();\n\n    var spinner = new Spinner({\n      elem:      link,\n      size:      'small',\n      class:     'submit-button__spinner',\n      elemClass: 'submit-button_progress'\n    });\n    spinner.start();\n\n    require.ensure('auth/client/authModal', function() {\n      spinner.stop();\n      var AuthModal = require('auth/client/authModal');\n      new AuthModal({\n        callback: function() {\n          window.location.href = link.href;\n        }\n      });\n    }, 'authClient');\n  };\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./handlers/courses/client/course/index.js\n **/","// Usage:\n//  1) new Spinner({ elem: elem}) -> start/stop()\n//  2) new Spinner() -> somewhere.append(spinner.elem) -> start/stop\nfunction Spinner(options) {\n  options = options || {};\n  this.elem = options.elem;\n\n  this.size = options.size || 'medium';\n  // any class to add to spinner (make spinner special here)\n  this.class = options.class ? (' ' + options.class) : '';\n\n  // any class to add to element (to hide it's content for instance)\n  this.elemClass = options.elemClass;\n\n  if (this.size != 'medium' && this.size != 'small' && this.size != 'large') {\n    throw new Error(\"Unsupported size: \" + this.size);\n  }\n\n  if (!this.elem) {\n    this.elem = document.createElement('div');\n  }\n}\n\nSpinner.prototype.start = function() {\n  if (this.elemClass) {\n    this.elem.classList.toggle(this.elemClass);\n  }\n\n  this.elem.insertAdjacentHTML('beforeend', '<span class=\"spinner spinner_active spinner_' + this.size + this.class + '\"><span class=\"spinner__dot spinner__dot_1\"></span><span class=\"spinner__dot spinner__dot_2\"></span><span class=\"spinner__dot spinner__dot_3\"></span></span>');\n};\n\nSpinner.prototype.stop = function() {\n  var spinnerElem = this.elem.querySelector('.spinner');\n  if (!spinnerElem) return; // already stopped or never started\n\n  spinnerElem.remove();\n\n  if (this.elemClass) {\n    this.elem.classList.toggle(this.elemClass);\n  }\n};\n\nmodule.exports = Spinner;\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/client/spinner.js\n **/","var notification = require('client/notification');\nvar getCsrfCookie = require('client/getCsrfCookie');\n// Wrapper about XHR\n// # Global Events\n// triggers document.loadstart/loadend on communication start/end\n//    --> unless options.noGlobalEvents is set\n//\n// # Events\n// triggers fail/success on load end:\n//    --> by default status=200 is ok, the others are failures\n//    --> options.normalStatuses = [201,409] allow given statuses\n//    --> fail event has .reason field\n//    --> success event has .result field\n//\n// # JSON\n//    --> send(object) calls JSON.stringify\n//    --> adds Accept: json (we want json) by default, unless options.raw\n// if options.json or server returned json content type\n//    --> autoparse json\n//    --> fail if error\n//\n// # CSRF\n//    --> requests sends header X-XSRF-TOKEN from cookie\n\nfunction xhr(options) {\n\n  var request = new XMLHttpRequest();\n\n  var method = options.method || 'GET';\n\n  var body = options.body;\n  var url = options.url;\n\n  request.open(method, url, options.sync ? false : true);\n\n  request.method = method;\n\n  // token/header names same as angular $http for easier interop\n  var csrfCookie = getCsrfCookie();\n  if (csrfCookie && !options.skipCsrf) {\n    request.setRequestHeader(\"X-XSRF-TOKEN\", csrfCookie);\n  }\n\n  if ({}.toString.call(body) == '[object Object]') {\n    // must be OPENed to setRequestHeader\n    request.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n    body = JSON.stringify(body);\n  }\n\n  if (!options.noDocumentEvents) {\n    request.addEventListener('loadstart', event => {\n      request.timeStart = Date.now();\n      var e = wrapEvent('xhrstart', event);\n      document.dispatchEvent(e);\n    });\n    request.addEventListener('loadend', event => {\n      var e = wrapEvent('xhrend', event);\n      document.dispatchEvent(e);\n    });\n    request.addEventListener('success', event => {\n      var e = wrapEvent('xhrsuccess', event);\n      e.result = event.result;\n      document.dispatchEvent(e);\n    });\n    request.addEventListener('fail', event => {\n      var e = wrapEvent('xhrfail', event);\n      e.reason = event.reason;\n      document.dispatchEvent(e);\n    });\n  }\n\n  if (!options.raw) { // means we want json\n    request.setRequestHeader(\"Accept\", \"application/json\");\n  }\n\n  request.setRequestHeader('X-Requested-With', \"XMLHttpRequest\");\n\n  var normalStatuses = options.normalStatuses || [200];\n\n  function wrapEvent(name, e) {\n    var event = new CustomEvent(name);\n    event.originalEvent = e;\n    return event;\n  }\n\n  function fail(reason, originalEvent) {\n    var e = wrapEvent(\"fail\", originalEvent);\n    e.reason = reason;\n    request.dispatchEvent(e);\n  }\n\n  function success(result, originalEvent) {\n    var e = wrapEvent(\"success\", originalEvent);\n    e.result = result;\n    request.dispatchEvent(e);\n  }\n\n  request.addEventListener(\"error\", e => {\n    fail(\"Ошибка связи с сервером.\", e);\n  });\n\n  request.addEventListener(\"timeout\", e => {\n    fail(\"Превышено максимально допустимое время ожидания ответа от сервера.\", e);\n  });\n\n  request.addEventListener(\"abort\", e => {\n    fail(\"Запрос был прерван.\", e);\n  });\n\n  request.addEventListener(\"load\", e => {\n    if (!request.status) { // does that ever happen?\n      fail(\"Не получен ответ от сервера.\", e);\n      return;\n    }\n\n    if (normalStatuses.indexOf(request.status) == -1) {\n      fail(\"Ошибка на стороне сервера (код \" + request.status + \"), попытайтесь позднее.\", e);\n      return;\n    }\n\n    var result = request.responseText;\n    var contentType = request.getResponseHeader(\"Content-Type\");\n    if (contentType.match(/^application\\/json/) || options.json) { // autoparse json if WANT or RECEIVED json\n      try {\n        result = JSON.parse(result);\n      } catch (e) {\n        fail(\"Некорректный формат ответа от сервера.\", e);\n        return;\n      }\n    }\n\n    success(result, e);\n  });\n\n  // defer to let other handlers be assigned\n  setTimeout(function() {\n    request.send(body);\n  }, 0);\n\n  return request;\n\n}\n\n\ndocument.addEventListener('xhrfail', function(event) {\n  new notification.Error(event.reason);\n});\n\n\nmodule.exports = xhr;\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/client/xhr.js\n **/","module.exports = function() {\n  var csrfCookie = document.cookie.match(/XSRF-TOKEN=([\\w-]+)/);\n  return csrfCookie ? csrfCookie[1] : null;\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/client/getCsrfCookie.js\n **/","var Spinner = require('client/spinner');\nvar xhr = require('client/xhr');\nvar notification = require('client/notification');\n\nfunction submitSubscribeForm(form, onSuccess) {\n\n  if (!form.elements.email.value) {\n    return;\n  }\n\n  var slugElems = form.elements.slug;\n\n  var slugs = [];\n\n\n  if (slugElems.length) {\n    // checkboxes\n    for (var i = 0; i < slugElems.length; i++) {\n      var slugElem = slugElems[i];\n      if (!slugElem.checked) continue;\n      slugs.push(slugElem.value);\n    }\n\n  } else {\n    // single element, explicit slug\n    slugs.push(slugElems.value);\n  }\n\n  if (!slugs.length) {\n    new notification.Info(\"Выберите рассылки из списка.\");\n    return;\n  }\n\n  var body = {\n    email: form.elements.email.value,\n    slug: slugs\n    // no remove/replace => action is \"add\"\n  };\n\n  const request = xhr({\n    method: 'POST',\n    url:    form.action,\n    body:   body\n  });\n\n  var submitButton = form.querySelector('[type=\"submit\"]');\n\n  var spinner = new Spinner({\n    elem:      submitButton,\n    size:      'small',\n    elemClass: 'button_loading'\n  });\n  spinner.start();\n  submitButton.disabled = true;\n\n  request.addEventListener('loadend', ()=> {\n    spinner.stop();\n    submitButton.disabled = false;\n  });\n\n  var formLabel = form.getAttribute('data-newsletter-subscribe-form');\n\n  request.addEventListener('success', function(event) {\n    if (this.status == 200) {\n\n      window.metrika.reachGoal('NEWSLETTER-SUBSCRIBE', {\n        form: formLabel\n      });\n      window.ga('send', 'event', 'newsletter', 'subscribe', formLabel);\n\n      new notification.Success(event.result.message, 'slow');\n      form.elements.email.value = '';\n      onSuccess && onSuccess();\n    } else {\n\n      window.metrika.reachGoal('NEWSLETTER-SUBSCRIBE-FAIL', {\n        form: formLabel\n      });\n      window.ga('send', 'event', 'newsletter', 'subscribe-fail', formLabel);\n\n      new notification.Error(event.result.message);\n    }\n  });\n\n}\n\nexports.submitSubscribeForm = submitSubscribeForm;\n\n\n\n/** WEBPACK FOOTER **\n ** ./handlers/newsletter/client/index.js\n **/","module.exports = class FeedbackSlider {\n  constructor({elem}) {\n    this.elem = elem;\n\n    this.list = elem.querySelector('.courses-feedback-slides');\n\n    this.arrowLeft = elem.querySelector('.courses-feedback-inline__control_left');\n    this.arrowRight = elem.querySelector('.courses-feedback-inline__control_right');\n    this.pagination = elem.querySelector('.courses-feedback-inline__pagination');\n    this.position = 0;\n\n    this.arrowRight.onclick = this.next.bind(this);\n    this.arrowLeft.onclick = this.prev.bind(this);\n\n    this.pagination.onclick = this.onPaginationClick.bind(this);\n  }\n\n  onPaginationClick(event) {\n    let target = event.target.closest('li');\n    if (!target) return;\n    this.position = [].indexOf.call(this.pagination.children, target);\n    console.log(this.position);\n    this.render();\n  }\n\n  next() {\n    this.position++;\n    this.render();\n  }\n\n  prev() {\n    this.position--;\n    this.render();\n  }\n\n  render() {\n    this.list.style.transform = this.position ? `translate3d(-${this.position}00%,0,0)` : '';\n    let hidden = 'courses-feedback-inline__control_hidden';\n\n    if (this.position === 0) {\n      this.arrowLeft.classList.add(hidden);\n    } else {\n      this.arrowLeft.classList.remove(hidden);\n    }\n\n    if (this.position == this.list.children.length - 1) {\n      this.arrowRight.classList.add(hidden);\n    } else {\n      this.arrowRight.classList.remove(hidden);\n    }\n\n    let active = this.pagination.querySelector('.courses-feedback-inline__page_active');\n    if (active) {\n      active.classList.remove('courses-feedback-inline__page_active');\n    }\n    this.pagination.children[this.position].classList.add('courses-feedback-inline__page_active');\n\n  }\n\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./handlers/courses/client/lib/feedbackSlider.js\n **/"],"sourceRoot":""}